//! Set up ISR table

const std = @import("std");
const hal = @import("hal");

const ISR = *const fn () callconv(.C) void;

extern var __stack:anyopaque;

export const vector_table: VectorTable linksection(".data.init.enter") = .{
    .stack_pointer = &__stack,
    .Reset = @import("start.zig")._start,
    .SDMMC1 = hal.zig.sd.isr,
    .TIM6 = hal.zig.timer.isr,
};

fn default_handler() callconv(.C) void {
    while (true) {}
}

const VectorTable = extern struct {
    stack_pointer: *anyopaque,
    Reset: ISR,
    NMI: ISR = default_handler,
    HardFault: ISR = default_handler,
    MemManage: ISR = default_handler,
    BusFault: ISR = default_handler,
    UsageFault: ISR = default_handler,
    _RESERVED0: u32 = 0,
    _RESERVED1: u32 = 0,
    _RESERVED2: u32 = 0,
    _RESERVED3: u32 = 0,
    SVC: ISR = default_handler,
    DebugMon: ISR = default_handler,
    _RESERVED4: u32 = 0,
    PendSV: ISR = default_handler,
    SysTick: ISR = default_handler,
    PVD_PVM: ISR = default_handler,
    _RESERVED5: u32 = 0,
    DTS: ISR = default_handler,
    IWDG: ISR = default_handler,
    WWDG: ISR = default_handler,
    RCC: ISR = default_handler,
    _RESERVED6: u32 = 0,
    _RESERVED7: u32 = 0,
    FLASH: ISR = default_handler,
    RAMECC: ISR = default_handler,
    FPU: ISR = default_handler,
    _RESERVED8: u32 = 0,
    _RESERVED9: u32 = 0,
    TAMP: ISR = default_handler,
    _RESERVED10: u32 = 0,
    _RESERVED11: u32 = 0,
    EXTI0: ISR = default_handler,
    EXTI1: ISR = default_handler,
    EXTI2: ISR = default_handler,
    EXTI3: ISR = default_handler,
    EXTI4: ISR = default_handler,
    EXTI5: ISR = default_handler,
    EXTI6: ISR = default_handler,
    EXTI7: ISR = default_handler,
    EXTI8: ISR = default_handler,
    EXTI9: ISR = default_handler,
    EXTI10: ISR = default_handler,
    EXTI11: ISR = default_handler,
    EXTI12: ISR = default_handler,
    EXTI13: ISR = default_handler,
    EXTI14: ISR = default_handler,
    EXTI15: ISR = default_handler,
    RTC: ISR = default_handler,
    SAES: ISR = default_handler,
    CRYP: ISR = default_handler,
    PKA: ISR = default_handler,
    HASH: ISR = default_handler,
    RNG: ISR = default_handler,
    ADC1_2: ISR = default_handler,
    GPDMA1_Channel0: ISR = default_handler,
    GPDMA1_Channel1: ISR = default_handler,
    GPDMA1_Channel2: ISR = default_handler,
    GPDMA1_Channel3: ISR = default_handler,
    GPDMA1_Channel4: ISR = default_handler,
    GPDMA1_Channel5: ISR = default_handler,
    GPDMA1_Channel6: ISR = default_handler,
    GPDMA1_Channel7: ISR = default_handler,
    TIM1_BRK: ISR = default_handler,
    TIM1_UP: ISR = default_handler,
    TIM1_TRG_COM: ISR = default_handler,
    TIM1_CC: ISR = default_handler,
    TIM2: ISR = default_handler,
    TIM3: ISR = default_handler,
    TIM4: ISR = default_handler,
    TIM5: ISR = default_handler,
    TIM6: ISR = default_handler,
    TIM7: ISR = default_handler,
    TIM9: ISR = default_handler,
    SPI1: ISR = default_handler,
    SPI2: ISR = default_handler,
    SPI3: ISR = default_handler,
    SPI4: ISR = default_handler,
    SPI5: ISR = default_handler,
    SPI6: ISR = default_handler,
    HPDMA1_Channel0: ISR = default_handler,
    HPDMA1_Channel1: ISR = default_handler,
    HPDMA1_Channel2: ISR = default_handler,
    HPDMA1_Channel3: ISR = default_handler,
    HPDMA1_Channel4: ISR = default_handler,
    HPDMA1_Channel5: ISR = default_handler,
    HPDMA1_Channel6: ISR = default_handler,
    HPDMA1_Channel7: ISR = default_handler,
    SAI1_A: ISR = default_handler,
    SAI1_B: ISR = default_handler,
    SAI2_A: ISR = default_handler,
    SAI2_B: ISR = default_handler,
    I2C1_EV: ISR = default_handler,
    I2C1_ER: ISR = default_handler,
    I2C2_EV: ISR = default_handler,
    I2C2_ER: ISR = default_handler,
    I2C3_EV: ISR = default_handler,
    I2C3_ER: ISR = default_handler,
    USART1: ISR = default_handler,
    USART2: ISR = default_handler,
    USART3: ISR = default_handler,
    UART4: ISR = default_handler,
    UART5: ISR = default_handler,
    UART7: ISR = default_handler,
    UART8: ISR = default_handler,
    I3C1_EV: ISR = default_handler,
    I3C1_ER: ISR = default_handler,
    OTG_HS: ISR = default_handler,
    ETH: ISR = default_handler,
    CORDIC: ISR = default_handler,
    GFXTIM: ISR = default_handler,
    DCMIPP: ISR = default_handler,
    LTDC: ISR = default_handler,
    LTDC_ER: ISR = default_handler,
    DMA2D: ISR = default_handler,
    JPEG: ISR = default_handler,
    GFXMMU: ISR = default_handler,
    I3C1_WKUP: ISR = default_handler,
    MCE1: ISR = default_handler,
    MCE2: ISR = default_handler,
    MCE3: ISR = default_handler,
    XSPI1: ISR = default_handler,
    XSPI2: ISR = default_handler,
    FMC: ISR = default_handler,
    SDMMC1: ISR = default_handler,
    SDMMC2: ISR = default_handler,
    _RESERVED12: u32 = 0,
    _RESERVED13: u32 = 0,
    OTG_FS: ISR = default_handler,
    TIM12: ISR = default_handler,
    TIM13: ISR = default_handler,
    TIM14: ISR = default_handler,
    TIM15: ISR = default_handler,
    TIM16: ISR = default_handler,
    TIM17: ISR = default_handler,
    LPTIM1: ISR = default_handler,
    LPTIM2: ISR = default_handler,
    LPTIM3: ISR = default_handler,
    LPTIM4: ISR = default_handler,
    LPTIM5: ISR = default_handler,
    SPDIF_RX: ISR = default_handler,
    MDIOS: ISR = default_handler,
    ADF1_FLT0: ISR = default_handler,
    CRS: ISR = default_handler,
    UCPD1: ISR = default_handler,
    CEC: ISR = default_handler,
    PSSI: ISR = default_handler,
    LPUART1: ISR = default_handler,
    WAKEUP_PIN: ISR = default_handler,
    GPDMA1_Channel8: ISR = default_handler,
    GPDMA1_Channel9: ISR = default_handler,
    GPDMA1_Channel10: ISR = default_handler,
    GPDMA1_Channel11: ISR = default_handler,
    GPDMA1_Channel12: ISR = default_handler,
    GPDMA1_Channel13: ISR = default_handler,
    GPDMA1_Channel14: ISR = default_handler,
    GPDMA1_Channel15: ISR = default_handler,
    HPDMA1_Channel8: ISR = default_handler,
    HPDMA1_Channel9: ISR = default_handler,
    HPDMA1_Channel10: ISR = default_handler,
    HPDMA1_Channel11: ISR = default_handler,
    HPDMA1_Channel12: ISR = default_handler,
    HPDMA1_Channel13: ISR = default_handler,
    HPDMA1_Channel14: ISR = default_handler,
    HPDMA1_Channel15: ISR = default_handler,
    GPU2D: ISR = default_handler,
    GPU2D_ER: ISR = default_handler,
    ICACHE: ISR = default_handler,
    FDCAN1_IT0: ISR = default_handler,
    FDCAN1_IT1: ISR = default_handler,
    FDCAN2_IT0: ISR = default_handler,
    FDCAN2_IT1: ISR = default_handler,
};
